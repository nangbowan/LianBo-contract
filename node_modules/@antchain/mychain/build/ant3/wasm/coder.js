"use strict";var Util=require("../utils/param"),Buffer=require("safe-buffer").Buffer,WasmCoder=function(){};WasmCoder.prototype.encodeParams=function(e,r,t,i){var f="";if(!1===Util.isString(e)||!1===Util.isObject(r)||!1===Util.isArray(t))return f;if(!1===Util.isObject(r.schema)||!r.schema[e]||!t)return f;if(!1===Util.isObject(r.schema[e])||!1===Util.isObject(r.schema[e].fields))return f;var n=Object.keys(r.schema[e].fields);if(Util.isArray(t)&&n.length!==t.length)return f;var o={},s=0;t&&Util.isArray(t)&&n.forEach(function(e){o[e]=t[s],s++});n=r.toBuffer(e,o),e=r.toBuffer("string",e),n=r.toBuffer("bytes",n),n=Buffer.concat([e,n]);return f=i?((i=new Buffer(4)).writeUInt32BE(n.length),i.toString("hex")+n.toString("hex")):n.toString("hex")},WasmCoder.prototype.decodeParam=function(e,r,t){return!(e&&r&&t)||!1===Util.isFunction(e.fromBuffer)?null:e.fromBuffer(r,t)};var coder=new WasmCoder;module.exports=coder;