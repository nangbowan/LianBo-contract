"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,s){return t&&_defineProperties(e.prototype,t),s&&_defineProperties(e,s),e}var MyRequest=function(){function e(){_classCallCheck(this,e),this.headers={},this.method="POST",this.url="",this.onreadystatechange=function(){}}return _createClass(e,[{key:"open",value:function(e,t){this.method=e||this.method,this.url=t||""}},{key:"setRequestHeader",value:function(e,t){this.headers||(this.headers={}),this.headers[e]=t}},{key:"send",value:function(e){var a=this,t=null;"undefined"!=typeof dd?t=dd.httpRequest:"undefined"!=typeof my&&(t=my.httpRequest,my.canIUse("request")&&(t=my.request)),t&&t({url:this.url,method:this.method,headers:this.headers,data:e,dataType:"json",success:function(e){var t=e.status,s="";200===t&&(s=JSON.stringify(e.data)||"{}"),a.status=t,a.readyState=4,a.responseText=s,a.onreadystatechange(a)},fail:function(e){var t=e.status||400,s="";e.data&&(s=JSON.stringify(e.data)||"{}"),a.status=t,a.readyState=4,a.responseText=s,a.onreadystatechange(a)}})}}]),e}();module.exports=MyRequest;