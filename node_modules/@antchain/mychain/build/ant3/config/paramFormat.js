"use strict";var util=require("../util"),VmType=require("./vmType"),Errors=require("../errors"),BN=require("bn.js");function inputdecimal(t){return util.toDecimal(t)}function inputhash(t){if(util.isString(t)){if(0===t.indexOf("0x")){if(66===t.length)return t;if(t.length<66)return"0x"+util.padEnd(util.toHex(t).slice(2),64)}return util.getHash(t)}if(util.isBuffer(t))return util.bufferToHex(t);if(util.isArray(t)){for(var u=[],i=0;i<t.length;i++)u[i]=inputhash(t[i]);return u}return"0x"+util.padEnd(util.toHex(t).slice(2),64)}function inputbytes(t){return util.isBuffer(t)?util.bufferToHex(t):util.isString(t)&&0===t.indexOf("0x")?t:util.toHex(t)}function inputcode(t,u,i){u=u||VmType.EVM,i=i||"";var e="",n="",r=0;if(util.isBuffer(t)?(r=t.length,e=t.toString("hex")):util.isString(t)&&(r=(e=0===(e=t).indexOf("0x")?e.slice(2):e).length/2),"wasm"===u&&(u=VmType.WASM,(t=new Buffer(4)).writeUInt32BE(r),n=t.toString("hex")),""===e)throw Errors.param("code");return"0x"+u+n+e+i}function inputbignumber(t){return BN.isBN(t)?t:util.isString(t)&&0===t.indexOf("0x")?new BN(t.slice(2),16):new BN(t,10)}function outputdecimal(t,u){return util.isBuffer(t)&&(t=t.toString("hex")),util.toDecimal(t,u)}function outputbytes(t){return(t=util.isBuffer(t)?t.toString("hex"):t)?"0x"+t:""}function outputhash(t){return outputbytes(t)}function outputstring(t){return util.isBuffer(t)&&(t=t.toString("hex")),util.toUtf8(t)}function outputbignumber(t){return"number"==typeof t?t:util.isBuffer(t)?(t=t.toString("hex"),new BN(t,16).toNumber()):(util.isString(t)&&0===t.indexOf("0x")?new BN(t.slice(2),16):new BN(t)).toNumber()}module.exports={inputdecimal:inputdecimal,inputhash:inputhash,inputbytes:inputbytes,inputcode:inputcode,inputbignumber:inputbignumber,outputdecimal:outputdecimal,outputbytes:outputbytes,outputhash:outputhash,outputstring:outputstring,outputbignumber:outputbignumber};