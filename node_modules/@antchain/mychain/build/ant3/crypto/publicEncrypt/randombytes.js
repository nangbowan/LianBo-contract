"use strict";var Buffer=require("safe-buffer").Buffer,crypto=require("../crypto"),MAX_BYTES=65536,word=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function getRandomValues(e){for(var r=e.length,o=0;o<r;o++)e[o]="0x"+word[parseInt(Math.random()*word.length)]+word[parseInt(Math.random()*word.length)];return e}function randomBytes(e,r){if(MAX_BYTES<e)throw new Error("requested too many random bytes");var o=Buffer.allocUnsafe(e);return 0<e&&(crypto.getRandomValues?crypto.getRandomValues(o):getRandomValues(o)),"function"==typeof r?process.nextTick(function(){r(null,o)}):o}crypto.getRandomValues||(crypto.getRandomValues=getRandomValues),crypto.randomBytes||(crypto.randomBytes=randomBytes),module.exports=crypto.randomBytes;