import e from"@babel/runtime/helpers/esm/objectSpread2";import r from"@babel/runtime/regenerator";import t from"@babel/runtime/helpers/esm/asyncToGenerator";import n from"@babel/runtime/helpers/esm/typeof";import a from"@babel/runtime/helpers/esm/classCallCheck";import o from"@babel/runtime/helpers/esm/createClass";import i from"debug";import c from"@babel/runtime/helpers/esm/inherits";import s from"@babel/runtime/helpers/esm/createSuper";import u from"@babel/runtime/helpers/esm/wrapNativeSuper";import p from"@babel/runtime/helpers/esm/defineProperty";import f from"bignumber.js";import{enc as l}from"crypto-js";import h from"crypto-js/sha3";import{Buffer as y}from"safe-buffer";import{AbiCoder as d}from"@ethersproject/abi";import m from"@babel/runtime/helpers/esm/createForOfIteratorHelper";import v from"fcbuffer";import C from"events";var b="1"===process.env.MYFISH_DEBUG,k="development"===process.env.NODE_ENV,_=(require("is-electron")(),function(){return i.enable("antchain:*")});"undefined"!=typeof window&&(window.enableDebug=_),"undefined"!=typeof globalThis&&(globalThis.enableDebug=_);var w,E,T,g,x,A,S=(w="antchain:jssdk",(k||b)&&_(),i(w));!function(e){e.assemblyscript="assemblyscript",e.solidity="solidity"}(E||(E={})),function(e){e.WASM="WASM",e.EVM="EVM"}(T||(T={})),function(e){e.TX_DEPLOY_CONTRACT="TX_DEPLOY_CONTRACT",e.CALL_CONTRACT="CALL_CONTRACT"}(g||(g={})),function(e){e.queryBlock="QueryBlock",e.queryLastBlock="QueryLastBlock",e.queryTransaction="QueryTransaction",e.queryTransactionReceipt="QueryTransactionReceipt",e.queryAccount="QueryAccount",e.queryContract="QueryContract",e.deployContract="DeployContract",e.updateContract="UpdateContract",e.callContract="CallContract",e.encryptedTransaction="EncryptedTransaction",e.LocalTransaction="LocalTransaction"}(x||(x={})),function(e){e.queryBlock="QUERYBLOCKBODY",e.queryBlockHeader="QUERYBLOCK",e.queryLastBlock="QUERYLASTBLOCK",e.queryTransactionFromBlockchain="QUERYTRANSACTIONFROMBLOCKCHAIN",e.queryTransactionReceipt="QUERYRECEIPT",e.queryAccount="QUERYACCOUNT",e.queryContract="QUERYCONTRACT",e.deploySolidityContractForBizAsync="DEPLOYCONTRACTFORBIZASYNC",e.updateSolidityContractForBizAsync="UPDATECONTRACTFORBIZASYNC",e.deployWasmContractForBiz="DEPLOYWASMCONTRACT",e.updateWasmContractForBiz="UPDATECONTRACTFORBIZ",e.deployWasmContract="DEPLOYCONTRACT",e.updateWasmContract="UPDATECONTRACT",e.callWasmContractForBiz="CALLWASMCONTRACT",e.callWasmContractForBizAsync="CALLWASMCONTRACTASYNC",e.callWasmContract="CALLWASMCONTRACT",e.callContract="CALLCONTRACT",e.createAccountForBiz="TENANTCREATEACCUNT"}(A||(A={}));var O,q=p({default:"/api/contract/chainCall"},A.callWasmContract,"/api/contract/chainCallForBiz");!function(e){e.queryBlockHeader="antchain_queryBlockHeader",e.queryBlock="antchain_queryBlock",e.queryLastBlock="antchain_queryLastBlock",e.queryTransaction="antchain_queryTransaction",e.queryTransactionReceipt="antchain_queryTransactionReceipt",e.queryAccount="antchain_queryAccount",e.queryContract="antchain_queryContract",e.sign="antchain_sign",e.deployContract="antchain_deployContract",e.deployWasmContract="antchain_deployWasmContract",e.deploySolidityContract="antchain_deploySolidityContract",e.callContract="antchain_callContract",e.callWasmContract="antchain_callWasmContract",e.callSolidityContract="antchain_callSolidityContract",e.getProviderState="antchain_getProviderState",e.requestAccounts="antchain_requestAccounts",e.subscription="antchain_subscription"}(O||(O={}));var I,N=function(e){c(t,u(Error));var r=s(t);function t(e,n,o){var i;return a(this,t),(i=r.call(this,e)).code=void 0,i.data=void 0,i.name="AntchainSDKError",i.code=n,i.data=o,i}return o(t)}();!function(e){e[e.ACCOUNT=0]="ACCOUNT",e[e.CONTRACT=1]="CONTRACT",e[e.TOPICS=2]="TOPICS",e[e.BLOCK=3]="BLOCK"}(I||(I={}));var R=function(){function i(e,r){a(this,i),this.options=void 0,this.provider=void 0,this.contractName=void 0,this.contractType=void 0,this.vmType=void 0,this.abi=void 0,S("[Contract] new contarct with options:",e),this.options=e,this.provider=r;var t=e.contractType,o=void 0===t?E.assemblyscript:t,c=e.abi;this.contractName=e.contractName,this.contractType=o,this.vmType=o===E.solidity?T.EVM:T.WASM,this.abi="object"===n(c)?JSON.stringify(c):c}var c,s;return o(i,[{key:"on",value:function(e,r){this.provider.watchContractEvent(this,e,r)}},{key:"deploy",value:(s=t(r.mark((function e(t,n){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n||{}).update){e.next=5;break}return e.abrupt("return",this.provider.updateContract(this,t));case 5:return e.abrupt("return",this.provider.deployContract(this,t));case 6:case"end":return e.stop()}}),e,this)}))),function(e,r){return s.apply(this,arguments)})},{key:"call",value:(c=t(r.mark((function t(n){return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(1===this.provider.majorVersion){r.next=4;break}if(this.vmType!==T.EVM){r.next=3;break}throw Error("当前版本的连接器不支持调用 Solidity 合约，请升级。");case 3:return r.abrupt("return",this.provider.callContract(e({contractName:this.contractName,vmType:this.vmType,abi:this.abi},n)));case 4:return r.abrupt("return",this.provider.callContract(this,n));case 5:case"end":return r.stop()}}),t,this)}))),function(e){return c.apply(this,arguments)})},{key:"generateDeployCode",value:function(e,r){throw Error("不能直接调用 Contract 类的 generateDeployCode")}},{key:"generateCallCode",value:function(e,r){throw Error("不能直接调用 Contract 类的 generateCallCode")}},{key:"parseReturnOutput",value:function(e,r){throw Error("不能直接调用 Contract 类的 generateCallCode")}}]),i}();function B(e,r){var t=e;return"hex"===r&&(t.length>2&&"0x"===t.substr(0,2)&&(t=t.substr(2)),t=l.Hex.parse(t)),""+h(t,{outputLength:256})}function P(e){return null!==e&&!Array.isArray(e)&&"object"===n(e)}function D(e){return Array.isArray(e)}var L,j={name:"uint64",Identity:"bytes",checksum160:"fixed_bytes20",checksum256:"fixed_bytes32",checksum512:"fixed_bytes64",signature:"fixed_bytes65",public_key:"fixed_bytes33",message_type:"fixed_string16",symbol:"uint64",symbol_code:"uint64",field_name:"string",account_name:"name",permission_name:"name",type_name:"string",table_name:"name",scope_name:"name",action_name:"string",time_point:"int64",time_point_sec:"time",timestamp:"uint32",block_timestamp_type:"timestamp",block_id:"fixed_bytes32",checksum_type:"fixed_bytes32",checksum256_type:"fixed_bytes32",checksum512_type:"fixed_bytes64",checksum160_type:"fixed_bytes20",sha256:"fixed_bytes32",sha512:"fixed_bytes64",sha160:"fixed_bytes20",weight_type:"uint16",block_num_type:"uint32",share_type:"int64",digest_type:"checksum_type",context_free_type:"bytes",unsigned_int:"varuint32",bool:"uint8",extensions_type:{base:"",fields:{type:"uint16",data:"bytes"}},transaction_header:{base:"",fields:{expiration:"time",ref_block_num:"uint16",ref_block_prefix:"uint32",max_net_usage_words:"unsigned_int",max_cpu_usage_ms:"uint8",delay_sec:"unsigned_int"}},transaction:{base:"transaction_header",fields:{context_free_actions:"action[]",actions:"action[]",transaction_extensions:"extensions_type[]"}},signed_transaction:{base:"transaction",fields:{signatures:"signature[]",context_free_data:"bytes[]"}},fields:"field_def[]",field_def:{fields:{name:"field_name",type:"type_name"}},type_def:{base:"",fields:{new_type_name:"type_name",type:"type_name"}},struct_def:{base:"",fields:{name:"type_name",base:"type_name",fields:"field_def[]"}},clause_pair:{base:"",fields:{id:"string",body:"string"}},error_message:{base:"",fields:{error_code:"uint64",error_msg:"string"}},abi_def:{base:"",fields:{version:"string",types:"type_def[]",structs:"struct_def[]",actions:"action_def[]",tables:"table_def[]",ricardian_clauses:"clause_pair[]",error_messages:"error_message[]",abi_extensions:"extensions_type[]"}},table_def:{base:"",fields:{name:"table_name",index_type:"type_name",key_names:"field_name[]",key_types:"type_name[]",type:"type_name"}},permission_level:{base:"",fields:{actor:"account_name",permission:"permission_name"}},action:{base:"",fields:{name:"action_name"}},action_def:{base:"",fields:{name:"string",type:"type_name"}}},K=function(e){return{"abi_def.fromObject":function(e){if("string"==typeof e){var r=""+y.from(e,"hex");return 0===r.length&&(r=""+y.from(e)),JSON.parse(r)}return y.isBuffer(e)?JSON.parse(""+e):null}}},W=function(e){return{"setcode.code.fromObject":function(r){var t=r.object,n=r.result;try{var a=""+t.code;if(/^\s*\(module/.test(a)){var o=e.binaryen;e.debug&&console.log("Assembling WASM..");var i=y.from(o.parseText(a).emitBinary());n.code=i}else n.code=t.code}catch(e){throw console.error(e,t.code),e}}}};function H(e){null==e&&(e={}),e.abiCache={abi:function(e,n){if(n){y.isBuffer(n)&&(n=JSON.parse(n));var a=function(e,r){var t={};e.types&&e.types.forEach((function(e){t[e.new_type_name]=e.type}));e.structs&&e.structs.forEach((function(e){var r,n={},a=m(e.fields);try{for(a.s();!(r=a.n()).done;){var o=r.value;n[o.name]=o.type}}catch(e){a.e(e)}finally{a.f()}t[e.name]={base:e.base,fields:n,results:e.results},""===e.base&&delete t[e.name].base}));e.interfaces&&e.interfaces.forEach((function(e){var n=t[e.type];n?n.interface={name:e.name}:console.error("Missing abiSchema type",e.type,r)}));return t}(n,e),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,t=Object.assign({},K(),W(e),e.override),n=Object.assign({},{},e.customTypes);(e=Object.assign({override:t},{customTypes:n},e)).sort=Object.assign({},e.sort);var a=Object.assign({},j,r),o=v(a,e),i=o.structs,c=o.types,s=o.errors,u=o.fromBuffer,p=o.toBuffer;if(0!==s.length)throw Error(JSON.stringify(s,null,4));return{structs:i,types:c,fromBuffer:u,toBuffer:p}}(r,a);return t[e]=Object.assign({abi:n,schema:a},o)}var i=t[e];if(null==i)throw Error("Abi '".concat(e,"' is not cached"));return i}};var r=Object.assign({},{defaults:!0},e),t={};return e.abiCache}function M(e,r){if(-1!==e.name.indexOf("("))return e.name;var t="";return t=r?r.join(","):e.inputs.map((function(e){return e.type})).join(","),e.name+"("+t+")"}!function(e){e.CONNECTION="connection",e.RESPONSE_NOT_JSON="responseNotJSON",e.RETURNCODE_ERROR="returnCode",e.RECEIPT_ERROR="receiptResult"}(L||(L={}));var U=function(e){c(t,u(Error));var r=s(t);function t(e,n){var o;return a(this,t),(o=r.call(this,e)).type=void 0,o.code=void 0,o.returnCode=void 0,o.receiptCode=void 0,o.hash=void 0,o.output=void 0,n&&(o.type=n.type,o.code=n.code,o.returnCode=n.returnCode,o.receiptCode=n.receiptCode,o.hash=n.hash,o.output=n.output),o}return o(t)}(),Y=function(){return new U("Invalid number of arguments to Solidity function")};var F=new d;function Q(e,r){return F.decode(e,(n=(t=r).startsWith("0x")?t.substring(2):t,Buffer.from(n,"hex")));var t,n}function z(e,r){return F.encode(e,r).slice(2)}function V(e,r){if(e.filter((function(e){return!(!0===P(e)&&!1===D(e)&&!1===(r=e,r&&(r instanceof f||r.constructor&&"BigNumber"===r.constructor.name)));var r})).length!==r.length)throw Y()}var J=function(r){c(n,R);var t=s(n);function n(r,o){return a(this,n),t.call(this,e({contractType:E.solidity},r),o)}return o(n,[{key:"generateDeployCode",value:function(e,r){if(r)throw Error("还未支持参数");return"0x01"+e.toString("utf-8")}},{key:"generateCallCode",value:function(e){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t="",n=JSON.parse(this.abi),a=0;n.length>a;a++){var o=n[a],i=[];D(o.inputs)&&(i=o.inputs);for(var c=[],s=[],u=0;i.length>u;u++){var p=i[u];c.push(p.type),s.push(p.name)}if("function"===o.type&&o.name===e&&r.length===c.length){var f=M(o,c),l="0x"+B(f).slice(0,8);V(r,c),t=l+z(c,r);break}}if(!t)throw Error("未找到对应的方法，请检查方法名和参数是否正确。");return t}},{key:"parseReturnOutput",value:function(e,r){return function(e,r,t){if(!t)return"";var n=r.find((function(r){return r.name===e})),a=Q((D(n.outputs)?n.outputs:[]).map((function(e){return e.type})),t);return 1===a.length?a[0]:a}(e,JSON.parse(this.abi),r)}}]),n}(),X=function(){};X.prototype.encodeParams=function(e,r,t,n){var a,o="";if(!1===("string"==typeof(a=e)||a&&a.constructor&&"String"===a.constructor.name)||!1===P(r)||!1===D(t))return o;if(!1===P(r.schema)||!r.schema[e]||!t)return o;if(!1===P(r.schema[e])||!1===P(r.schema[e].fields))return o;var i=Object.keys(r.schema[e].fields);if(D(t)&&i.length!==t.length)return o;var c={},s=0;t&&D(t)&&i.forEach((function(e){c[e]=t[s],s++}));var u=r.toBuffer(e,c),p=r.toBuffer("string",e),f=r.toBuffer("bytes",u),l=y.concat([p,f]);if(n){var h=new y(4);h.writeUInt32BE(l.length),o=h.toString("hex")+l.toString("hex")}else o=l.toString("hex");return o},X.prototype.decodeParam=function(e,r,t){return e&&r&&t?!1==("function"==typeof e.fromBuffer)?null:e.fromBuffer(r,t):null};var Z=new X,G=function(r){c(n,R);var t=s(n);function n(r,o){var i,c,s;return a(this,n),(i=t.call(this,e({contractType:E.assemblyscript},r),o)).abier=void 0,i.abier=(c=r.contractName,s=i.abi,H().abi(c,Buffer.from(s))),i}return o(n,[{key:"generateDeployCode",value:function(e,r){if(r)throw Error("还未支持参数");var t,n,a=e.toString("hex");return"0x02"+(t=a.length/2,(n=new y(4)).writeUInt32BE(t),n.toString("hex"))+a}},{key:"generateCallCode",value:function(e,r){var t="",n=this.abier.schema[e].fields||{},a=[];for(var o in n)a.push({key:o,type:n[o]});return(t=Z.encodeParams(e,this.abier,r||[]))&&(t="0x"+t),t}},{key:"parseReturnOutput",value:function(e,r){var t;if(r){var n=r;0===n.indexOf("0x")&&(n=n.slice(2));var a=null===(t=this.abier.schema[e])||void 0===t?void 0:t.results,o=Z.decodeParam(this.abier,a&&a.length>0&&a[0],Buffer.from(n,"hex"));return 1===o.length?o[0]:o}}}]),n}();function $(e){return new Promise((function(r){setTimeout((function(){r()}),e)}))}var ee,re=[3e4,1e4,5e3,2e3,1e3],te=function(e){c(u,C);var n,i=s(u);function u(){return a(this,u),i.apply(this,arguments)}return o(u,[{key:"queryTransactionReceiptWithRetry",value:(n=t(r.mark((function e(t,n){var a,o=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=o.length>2&&void 0!==o[2]?o[2]:re.length-1)>=0){e.next=6;break}return e.next=4,$(3e4);case 4:e.next=8;break;case 6:return e.next=8,$(re[a]);case 8:return e.prev=8,e.next=11,this.queryTransactionReceipt(t);case 11:case 28:return e.abrupt("return",e.sent);case 14:if(e.prev=14,e.t0=e.catch(8),"404"===e.t0.code||"414"===e.t0.code){e.next=19;break}throw S("code is ".concat(e.t0.code,", stop retry")),e.t0;case 19:if(!n){e.next=24;break}if(Date.now()<=n){e.next=22;break}throw Error("queryTransactionReceipt timeout");case 22:e.next=26;break;case 24:if(0!==a){e.next=26;break}throw Error("queryTransactionReceipt retry times out");case 26:return e.next=28,this.queryTransactionReceiptWithRetry(t,n,a-1);case 29:case"end":return e.stop()}}),e,this,[[8,14]])}))),function(e,r){return n.apply(this,arguments)})}]),u}(),ne=function(e){c(Y,te);var n,i,u,p,f,l,h,y,d,m,v,C,b,k,_,w,E,T,g,x,A,q,I,N,R,B,P,D,L,j,K,W,H,M,U=s(Y);function Y(e){var r,t=e.chainId;if(a(this,Y),(r=U.call(this)).majorVersion=1,r.chainId=void 0,r.accounts=[],r.rpcHandler={},!t)throw Error("chainId required");return r.chainId=t,my.onAppShow((function(e){S("[AlipayMiniProvider] onAppShow options:",e);var t=e.referrerInfo,n=t.extraData;"2021003141614827"===t.appId&&r.rpcHandler.id&&((null==n?void 0:n.id)&&n.id===r.rpcHandler.id?n.error?r.rpcHandler.reject(n.error):r.rpcHandler.resolve(n.result):r.rpcHandler.reject("rpc request id error"))})),r}return o(Y,[{key:"request",value:(M=t(r.mark((function e(t){var n,a,o,i=this;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S("[AlipayMiniProvider] request method:",n=t.method,"params:",a=t.params),this.rpcHandler.promise=new Promise((function(e,r){var t=""+Date.now();i.rpcHandler.id=t,i.rpcHandler.resolve=e,i.rpcHandler.reject=r,my.navigateToMiniProgram({appId:"2021003141614827",path:"pages/authorize/index",extraData:{id:t,method:n,params:a,chainId:i.chainId},fail:r})})),e.next=5,this.rpcHandler.promise;case 5:return S("[AlipayMiniProvider] request result:",o=e.sent),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return M.apply(this,arguments)})},{key:"requestAccounts",value:(H=t(r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request({method:O.requestAccounts});case 2:return this.accounts=t=e.sent,this.emit("accountsChanged",t),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)}))),function(){return H.apply(this,arguments)})},{key:"createAccount",value:(W=t(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(){return W.apply(this,arguments)})},{key:"watchContractEvent",value:function(e,r,t){throw Error("暂不支持")}},{key:"transferBalance",value:(K=t(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(e){return K.apply(this,arguments)})},{key:"setRecoverkey",value:(j=t(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(e){return j.apply(this,arguments)})},{key:"preResetPubKey",value:(L=t(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(e){return L.apply(this,arguments)})},{key:"resetPubKey",value:(D=t(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(e){return D.apply(this,arguments)})},{key:"freezeAccount",value:(P=t(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(e){return P.apply(this,arguments)})},{key:"freezeContract",value:(B=t(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(e){return B.apply(this,arguments)})},{key:"nativeDepositData",value:(R=t(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(e){return R.apply(this,arguments)})},{key:"queryLastBlockHeader",value:(N=t(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(){return N.apply(this,arguments)})},{key:"queryTransactionList",value:(I=t(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(e){return I.apply(this,arguments)})},{key:"queryTransactionAndReceipt",value:(q=t(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(e){return q.apply(this,arguments)})},{key:"queryTimestamp",value:(A=t(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(e){return A.apply(this,arguments)})},{key:"queryP2PStatus",value:(x=t(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(e){return x.apply(this,arguments)})},{key:"queryConsensusStatus",value:(g=t(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(e){return g.apply(this,arguments)})},{key:"queryCommonConsensusStatus",value:(T=t(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(e){return T.apply(this,arguments)})},{key:"querySyncStatus",value:(E=t(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(e){return E.apply(this,arguments)})},{key:"queryTransactionCacheStatus",value:(w=t(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(e){return w.apply(this,arguments)})},{key:"queryBlockCacheStatus",value:(_=t(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(e){return _.apply(this,arguments)})},{key:"queryContractNodesStatus",value:(k=t(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(e){return k.apply(this,arguments)})},{key:"queryContractConfigStatus",value:(b=t(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(e){return b.apply(this,arguments)})},{key:"queryLogLevel",value:(C=t(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(e){return C.apply(this,arguments)})},{key:"updateBlackList",value:(v=t(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(e){return v.apply(this,arguments)})},{key:"queryBlockProof",value:(m=t(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(e){return m.apply(this,arguments)})},{key:"queryBlockHeaderProof",value:(d=t(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(e){return d.apply(this,arguments)})},{key:"queryStateProof",value:(y=t(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(e){return y.apply(this,arguments)})},{key:"queryTransactionProof",value:(h=t(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(e){return h.apply(this,arguments)})},{key:"queryReceiptProof",value:(l=t(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)})},{key:"queryBlockHeaderInfos",value:(f=t(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(e){return f.apply(this,arguments)})},{key:"queryBlockReceiptInfos",value:(p=t(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(e){return p.apply(this,arguments)})},{key:"queryBlockBodyInfos",value:(u=t(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)})},{key:"updateAuthMap",value:(i=t(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("暂不支持");case 1:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"queryAccount",value:function(e){throw Error("暂不支持")}},{key:"queryBlockHeader",value:function(e){throw Error("暂不支持")}},{key:"queryBlock",value:function(e){throw Error("暂不支持")}},{key:"queryLastBlock",value:function(){throw Error("暂不支持")}},{key:"queryTransaction",value:function(e){throw Error("暂不支持")}},{key:"queryTransactionReceipt",value:function(e){throw Error("暂不支持")}},{key:"deployContract",value:function(e,r){throw Error("暂不支持")}},{key:"updateContract",value:function(){throw Error("暂不支持")}},{key:"callContract",value:(n=t(r.mark((function e(t,n){var a,o,i,c,s,u;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.methodName,o=n.args,i=n.gas,c=n.blockNumber,s=n.local,e.next=3,this.request({method:O.callContract,params:{chainId:this.chainId,contractName:t.contractName,vmType:t.vmType,abi:t.abi,methodName:a,args:o,gas:i,blockNumber:c,isLocalCall:s}});case 3:return e.abrupt("return",{txHash:(u=e.sent).txHash,receiptCode:u.resultCode,returnValue:u.returnValues});case 5:case"end":return e.stop()}}),e,this)}))),function(e,r){return n.apply(this,arguments)})},{key:"queryContract",value:function(e){throw Error("暂不支持")}},{key:"sign",value:function(e){return this.request({method:O.sign,params:e})}}]),Y}(),ae={100:"哈希计算错误",101:"交易指针为空指针",102:"交易的 data 字段不满足类型约束",103:"签名不可用",104:"交易的发送账户余额不足",105:"交易的时间戳所在时间段无效，合约平台会对时间戳做检查，不在特定的时间范围内将被认为不可用",106:"交易的目标账户不包含可用的合约哈希",107:"交易的目标账户为空",108:"创建账户的交易不满足需求",109:"部署合约的交易不满足需求",110:"基本的交易类型需求校验失败",111:"交易类型未知",112:"恢复时间未知",113:"交易被重放",114:"交易的 data 字段太大，超过系统限制",115:"交易消耗的 gas 太大，超过系统限制",116:"交易的提交账户在区块链上不存在，提交账户是交易数据结构中的 from 字段",117:"交易的提交账户为空",118:"交易的提交账户被冻结",119:"交易的提交账户正在恢复中",120:"交易的目标账户在区块链上不存在，目标账户是交易数据结构中的 to 字段",121:"交易的目标账户被冻结",122:"交易的签名权重不足",123:"交易的目标账户已经存在",124:"块指针为空",125:"块的父级不存在",126:"块的父级无效，因为哈希和块号不匹配",127:"块的时间戳不满足单调递增的要求",128:"块的交易根哈希未正确计算",129:"块的交易接收根哈希未正确计算",130:"块的共识证明无效",131:"其他错误",132:"不满足交易的 group id 约束要求",133:"不满足交易的版本约束要求",134:"账户为空",135:"合约为空",136:"验证权限失败",137:"锚数据验证失败",140:"验证预留ID失败",141:"已打开受管理的应用程序合同",142:"更新合同无效",143:"更新合同状态无效",144:"不允许更新数据合同",145:"当前交易的合同代码无效",146:"已打开受管理的系统合约",400:"插件不存在",401:"消息转换失败",402:"本地交易执行失败",403:"无法将交易推送至缓存队列",404:"查询无结果",405:"业务不支持",406:"事件不存在",407:"日志实例不存在",408:"交易验证失败",409:"无节点可转发请求",410:"请求转发超时",411:"响应转发超时",412:"添加群链失败",413:"交易尚未验证",414:"交易已验证，等待执行",415:"节点无法提供服务，可能有两种原因：<br>1. 当前链在指定时间内无法成块；<br>2. 当前链内请求积压超过设定限制",416:"用于根据时间戳查询区块，请求中的时间戳小于创世块的时间戳",417:"转发请求查询无结果，可能是被转发节点处于无法服务状态",418:"注册事件失败，可能是触发事件注册单个 session 事件注册数限制或者节点支持最大事件注册数限制",419:"参数无效",420:"请求权限校验不通过，可能原因有：<br>1. 管理类请求需要校验签名，校验签名不通过；<br>2. 交易内账户涉及黑名单，被节点拒绝",421:"内部错误",422:"故障点不可用",423:"更新故障点案例失败",424:"超出了请求限制",425:"子网不存在",426:"子网不可用",1e3:"世界状态（WS）数据库未初始化",1001:"世界状态中找不到合约的代码哈希",1002:"世界状态中未找到该状态对象",1003:"状态对象（ID）被占用",1004:"指定的状态对象（ID）已删除",1005:"指定的状态对象余额不足",1006:"转账失败",1007:"指定的公钥不存在",1008:"余额溢出",1009:"未知故障",1010:"指定的权重值无效",1012:"发布资产失败",1013:"回收资产失败",2e3:"交易执行无法从交易获取足够的燃料",2001:"交易执行无法在区块链中定位到标识",2002:"负载中的权重值无效",2003:"交易负载无效",2004:"恢复时间无效",2005:"交易执行出现未知错误",3e3:"块不存在",3001:"数据库没有数据",3002:"写入数据库失败",3003:"从数据库读取数据失败",3004:"RLP存储解析失败",3005:"无效的ID",3006:"当前数据库的根目录状态无效",3007:"设置根目录失败",3008:"当前数据库数据丢失",3009:"数据覆盖失败",3010:"当前事件状态为空",3011:"最近块为空",3012:"区块编码无效",3013:"存储快照版本失败",3014:"对象状态初始化失败",3015:"对象状态接收无效",3016:"交易上下文为空",3017:"处理内容为空",3018:"merkle 树初始化失败",3019:"清理所有 merkle 树的缓存失败",3020:"清空所有merkle 树的状态失败",4e3:"超过要求的限制",4001:"创建group ID失败",4002:"获取公私钥失败",4003:"存储有关信息失败",4004:"发送已创建分组账号的交易失败",4005:"发送合约分组交易失败",4006:"获取公钥失败",4007:"公钥匹配出错",4008:"节点信息解码错误",4009:"获取密钥对失败",1e4:"虚拟机一般故障",10001:"错误的指令，包含create/create2/suicide/…",10002:"请调整堆栈",10003:"请调整堆栈",10004:"内存错误",10005:"代码为空",10006:"强制重启",10010:"虚拟机版本无效",10025:"由虚拟机参数不匹配引起的错误",10026:"虚拟机更新合约失败",10100:"虚拟机消耗超出限制",10101:"虚拟机创建失败",10102:"虚拟机参数代码为空",10103:"虚拟机参数代码为空",10200:"燃料不足",10201:"由 revert 指令触发的错误",10202:"由 toUint64 方法触发的错误",10203:"由虚拟机上下文static_call为true引起的错误",10204:"虚拟机方法引起的错误",10300:"获取余额失败",10301:"设置存储失败= 108，一般由存储引起",10302:"获取存储失败，一般由加载引起",10303:"转账失败，一般由evm_call调用方法引起",10304:"获取代码失败，一般由extcodecopy/extcodesize instruction or evm_call调用方法引起",10305:"获取块哈希失败，一般由哈希指令引起",10306:"获取代码哈希失败，由用户不存在引起",10307:"受获取燃料受限，由genesis.json设置",10308:"删除存储失败，原因是客户端收到删除存储结果失败",10309:"帐户被冻结，无法调用",10310:"虚拟机获取交易数据失败",10311:"虚拟机获取交易发送方失败",10312:"虚拟机获取交易交易接收器失败",10313:"虚拟机获取交易时间戳失败",10314:"虚拟机获取交易块索引失败",10315:"虚拟机从min_query_block中获取交易",10316:"交易类型不是TX_NATIVE_DEPOSIT_DATA和TX_RELATED_DEPOSIT_DATA",10317:"虚拟机获取交易存款标志失败",10318:"虚拟机获取恢复密钥失败",10319:"虚拟机获取身份验证映射失败",10350:"获得相关交易失败",10500:"虚拟内部错误",10600:"虚拟机创建动态库失败，可能是由本机合约创建动态库引起的",10601:"虚拟机创建socket失败，可能是由本机合约创建的socket方法引起的",10602:"虚拟机绑定socket失败，可能是由于客户端绑定到mychain时的本机协定引起的",10603:"虚拟机侦听socket失败，可能是由于mychain侦听客户端时的本机协定引起的",10604:"虚拟机响应失败，可能是由本机合同响应将数据发送给客户端造成的",10605:"虚拟机读取数据失败，可能是由于mychian读取客户端数据时的本机协定引起的",10606:"虚拟机执行子进程运行客户端失败",10607:"虚拟机fork进程失败，可能是由fork子进程时的本机合约引起的",10608:"虚拟机写入数据失败，可能是由于mychain将数据写入客户端时的幼稚合同引起的",10620:"虚拟机不支持本机合约，可能是由genesis.json中的native_enable引起的",10622:"虚拟机初始化失败，可能是由本地合约初始化方法引起",10623:"虚拟机不部署失败，可能是由于本地合约code引起部署失败",10700:"vm不支持本机预编译协定，没有使用ENABLE_NATIVE_PRECOMPILE_CONTRACT构建",10701:"虚拟机初始化失败，可能是由本机预编译协定init方法引起的",10702:"虚拟机部署失败，可能是由本机预编译合同部署代码引起的",10703:"虚拟机响应失败，可能是由本机预编译合同响应将数据发送给客户端引起的",10750:"合约 ID 不存在",10751:"数据库 ID 不存在",10752:"没有阅读数据合同的许可",10753:"没有写入数据合同的许可",10754:"没有删除数据合同的许可",10755:"数据协定API的输出是固定的，数据流反序列化输出失败",10756:"之前的schema不存在",10757:"当前的schema不存在",10758:"ACL ID不存在",10760:"数据不存在",10900:"参数格式错误",10901:"JSON/XML 的目标路径不存在",10902:"传入的 handler 参数不存在，检查 property_parse 是否执行成功",10903:"数据类型不匹配，当前使用的方法不能获取目标类型的数据",2e4:"SDK 内部错误",20001:"IPC/网络参数错误：协议族不支持的地址族",20002:"IPC/网络参数错误：该地址已被使用",20003:"IPC/网络参数错误：无法分配请求的地址",20004:"IPC/网络运行出错：套接口已连接",20005:"参数列表太长",20006:"数值参数不在域内",20007:"地址不详",20008:"文件描述符不详",20009:"程序加载错误：消息不详",20010:"管道破损",20011:"IPC/网络运行出错：软件问题导致连接中断",20012:"非阻塞和中断 I/O：操作进行中",20013:"IPC/网络运行出错：连接被拒绝",20014:"连接被对方重设",20015:"跨设备链接",20016:"IPC/网络参数错误：目标地址不得为空",20017:"设备或资源忙",20018:"目录不为空，需重新安排",20019:"执行格式错误",20020:"文件已存在",20021:"文件太大",20022:"IPC/网络运行出错：文件名太长",20023:"网络文件系统：功能未实现",20024:"无主机路由，需重新安排",20025:"程序加载错误：标识已被删除",20026:"程序加载错误：非法字节序列",20027:"ioctl 不适合设备",20028:"系统调用中断",20029:"参数无效",20030:"非法寻求",20031:"输入/输出错误",20032:"此为目录",20033:"IPC/网络参数错误：消息太长",20034:"IPC/网络运行出错：网络故障",20035:"IPC/网络运行出错：重置时网络断开连接",20036:"IPC/网络运行出错：网络无法访问",20037:"IPC/网络运行出错：无缓冲空间",20038:"无子程序",20039:"程序加载错误：已保留",20040:"网络文件系统，无锁可用",20041:"程序加载错误：消息流上无消息",20042:"程序加载错误：无预期类型的消息",20043:"IPC/网络参数错误：协议不可用",20044:"设备空间不足",20045:"程序加载错误：无流资源",20046:"设备未配置",20047:"设备不支持该操作",20048:"该文件或目录不存在",20049:"该程序不存在",20050:"非目录",20051:"IPC/网络参数错误：未在套接口上执行套接口操作",20052:"程序加载错误：非流",20053:"IPC/网络运行出错：套接口未连接",20054:"无法分配内存",20055:"IPC/网络参数错误：不支持该操作",20056:"程序加载错误：操作已取消",20057:"非阻塞和中断 I/O：操作进行中",20058:"操作不允许",20059:"仅当编译 __DARWIN_UNIX03 时该值为离散值，或 KERNE：套接口不支持该操作",20060:"非阻塞和中断 I/O：操作将阻塞",20061:"程序加载错误：之前的 Owner 已去世",20062:"权限不足",20063:"程序加载错误：协议错误",20064:"IPC/网络参数错误：不支持该协议",20065:"只读文件系统",20066:"避免资源死锁",20067:"非阻塞和中断 I/O：资源暂时不可用",20068:"结果太大",20069:"程序加载错误：状态不可恢复",20070:"程序加载错误：流 ioctl 超时",20071:"文本文件忙",20072:"IPC/网络运行出错：运行超时",20073:"系统打开的文件太多",20074:"打开的文件太多",20075:"太多链接",20076:"IPC/网络运行出错：符号链接级别太多",20077:"智能设备错误：值太大导致无法存储在数据类型中",20078:"IPC/网络参数错误：套接口协议类型错误",3e4:"SDK 参数无效",30001:"SDK 私钥无效",30002:"SDK 签名工具验证出错",30003:"SDK 不支持编码",30004:"SDK 获取文件输入流失败",30005:"SDK 查找线程失败",30006:"SDK 字节操作失败",30007:"SDK 转换公钥失败",30008:"SDK 消息编码失败",30009:"SDK 读取客户端配置失败",30010:"SDK 初始化失败",30011:"SDK 连接网络失败",30012:"SDK 解码出错",30013:"SDK 不支持该消息类型",30014:"未做握手",30015:"初始化 SSL 上下文失败",30016:"SDK 正在握手",30017:"SDK 无效的公钥",30018:"邮件已达到最大队列大小",60001:"加密交易解密失败",60002:"加密交易中内嵌的不是明文交易",60003:"待处理的交易非加密交易",60004:"TEE 中不支持 native 类型的合约",60005:"加密交易反序列化失败",60006:"合约账户的状态反序列化失败",60007:"非法访问加密的账户数据",60008:"TEE 内不支持的交易类型",60009:"加密回执中的 log 信息失败",60010:"非法访问加密的合约代码",60011:"加密交易的 hash 和时间戳不合法",60012:"交易回执过大",60013:"TEE 内部错误",60014:"合约代码加密失败",60015:"合约代码解密失败",60016:"合约状态加密失败",60017:"合约状态解密失败",60018:"合约状态反序列化失败",60019:"合约状态序列化失败",60020:"合约账户基本信息解密失败",60021:"合约账户基本信息加密失败",60022:"TEE 中不允许执行明文合约",60023:"TEE 中不允许更新明文合约",60024:"按不存在的方法类型进行查询",60025:"查询时使用的 hash 不存在",60026:"不允许查询",60027:"解密隐私交易回执失败",60028:"对象状态初始化失败",60029:"获取代码状态失败",60030:"删除存储状态失败",60031:"错误的虚拟机类型",60032:"设置代码状态失败",60033:"查询时交易不匹配",60034:"从块获取交易列表失败",60035:"查询时调用虚拟机失败",60036:"查询时不被允许",60037:"查询RLP失败",60038:"更新合约无效",60039:"查询时该方法不支持",60040:"加密交易的期望合约代码哈希值不匹配",60041:"更新存款合同时，获取公钥失败",7e4:"通用错误",70001:"无效的提供者",70002:"无效的密钥类型",70003:"无效的类",70004:"无效的公钥",70005:"无效的私钥",70006:"无效的消息",70007:"无效的纯文本",70008:"无效的密文",70009:"无效的签名",70010:"无效的对称密钥",70011:"无效的文件路径",70012:"无效的密钥文件",70013:"无效的x509",70101:"算法未初始化",70102:"提供者错误",8e4:"注册失败"};!function(e){e.OpenLab="0b06e2744ad341538b7a3b3cc5ad9e57"}(ee||(ee={}));export{ne as AlipayMiniProvider,N as AntchainSDKError,ee as ChainIds,R as Contract,E as ContractType,I as EventListenerType,x as MychainMethods,A as RestMethods,q as RestMethodsUrlMap,J as SolContract,g as TxType,T as VmType,O as WalletMethods,G as WasmContract,ae as errorCodeMessages};
