import { isTypedArray, allocLength, allocData } from './general';

describe('utils/general', () => {
  test('isTypedArray', () => {
    expect(isTypedArray(new Int8Array(1))).toBe(true);
    expect(isTypedArray(2)).toBe(false);
  });

  test('allocLength', () => {
    const p1 = allocLength();
    const p2 = allocLength(666);
    expect(load<u32>(p1)).toBe(0);
    expect(load<u32>(p2)).toBe(666);
  });

  test('allocData', () => {
    const data = allocData(666);
    expect(data.bytes.byteLength).toBe(666);
  });
});
