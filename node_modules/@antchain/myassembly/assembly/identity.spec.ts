import { Identity } from './identity';
import { utils } from '.';

describe('identity', () => {
  test('Identity', () => {
    // 两个不同 id
    const s1 = '1234567890123456789012345678901234567890123456789012345678901111';
    const s2 = '1234567890123456789012345678901234567890123456789012345678902222';
    const b1 = utils.hexStringToBytes(s1);
    const b2 = utils.hexStringToBytes(s2);

    // 用 string 创建 id
    const sid1 = Identity.fromStr(s1);
    const sid2 = Identity.fromStr(s1);
    const sid3 = Identity.fromStr(s2);

    // 用 bytes 创建 id
    const bid1 = Identity.fromBytes(b1);
    const bid2 = Identity.fromBytes(b1);
    const bid3 = Identity.fromBytes(b2);

    /* eslint-disable no-self-compare */
    expect(sid1 == sid1).toBe(true);
    expect(sid1 == sid2).toBe(true);
    expect(sid1 == sid3).toBe(false);
    expect(sid1 == bid1).toBe(true);
    expect(sid1 == bid2).toBe(true);
    expect(sid1 == bid3).toBe(false);
    expect(sid1 != sid1).toBe(false);
    expect(sid1 != sid2).toBe(false);
    expect(sid1 != sid3).toBe(true);
    expect(sid1 != bid1).toBe(false);
    expect(sid1 != bid2).toBe(false);
    expect(sid1 != bid3).toBe(true);
    /* eslint-enable */
  });
});
