import { getGas, getValue, getCode, getCodeHash, createContract } from './contract';
import { Identity } from '..';

describe('chain/contract', () => {
  test('getGas', () => {
    expect(getGas()).toBe(666);
  });

  test('getValue', () => {
    expect(getValue()).toBe(666);
  });

  test('getCode', () => {
    const id = Identity.fromStr('1234567890123456789012345678901234567890123456789012345678901234');
    expect(getCode(id)).toBe('contract-wasm-binary-code');
  });

  test('getCodeHash', () => {
    const id = Identity.fromStr('1234567890123456789012345678901234567890123456789012345678901234');
    expect(getCodeHash(id)).toBe(
      '1234567890123456789012345678901234567890123456789012345678908888',
    );
  });

  test('createContract', () => {
    expect(() => {
      const id1 = Identity.fromStr(
        '1234567890123456789012345678901234567890123456789012345678901111',
      );
      const id2 = Identity.fromStr(
        '1234567890123456789012345678901234567890123456789012345678902222',
      );
      createContract(id1, id2);
    }).toThrow();
  });
});
