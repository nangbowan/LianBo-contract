const debug = require('debug')('myassembly:tester:SetStorage');

module.exports =
  ({ __storage, __getString, __getU8Array }) =>
  (key_ptr, key_length, value_ptr, value_length_ptr) => {
    const key = __getString(key_ptr, key_length);
    const value = __getU8Array(value_ptr, value_length_ptr);
    debug(key, value);

    __storage.set(key, value);
    return 0;
  };
